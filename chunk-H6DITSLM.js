import{a as W}from"./chunk-SHAGSSIV.js";import{a as K,b as _,c as Q,e as A}from"./chunk-N2HGJLKZ.js";import{a as X,b as j}from"./chunk-Z6ONODYV.js";import{a as z}from"./chunk-FXKGETAD.js";import{d as q,m as J,o as Z}from"./chunk-EJSN6NP7.js";import{Ab as h,Gb as v,Hb as G,Ib as D,Mb as k,Nb as b,Qa as s,R as N,U as u,Xa as I,Z as l,_ as y,ha as P,ia as U,ja as F,ka as $,mb as V,ob as E,pb as w,qb as x,rb as O,tb as T,ub as L,vb as r,wb as a,xb as d,ya as B,yb as H,zb as S}from"./chunk-QEFPM76F.js";var Y=(()=>{class i{constructor(e,t){this.document=e,this.platformId=t,this.documentIsAccessible=Z(this.platformId)}static getCookieRegExp(e){let t=e.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+t+"|;\\s*"+t+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return this.documentIsAccessible?(e=encodeURIComponent(e),i.getCookieRegExp(e).test(this.document.cookie)):!1}get(e){if(this.check(e)){e=encodeURIComponent(e);let o=i.getCookieRegExp(e).exec(this.document.cookie);return o&&o[1]?i.safeDecodeURIComponent(o[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let e={},t=this.document;return t.cookie&&t.cookie!==""&&t.cookie.split(";").forEach(o=>{let[c,m]=o.split("=");e[i.safeDecodeURIComponent(c.replace(/^ /,""))]=i.safeDecodeURIComponent(m)}),e}set(e,t,o,c,m,f,R,se){if(!this.documentIsAccessible)return;if(typeof o=="number"||o instanceof Date||c||m||f||R){let M={expires:o,path:c,domain:m,secure:f,sameSite:R||"Lax",partitioned:se};this.set(e,t,M);return}let p=encodeURIComponent(e)+"="+encodeURIComponent(t)+";",n=o||{};if(n.expires)if(typeof n.expires=="number"){let M=new Date(new Date().getTime()+n.expires*1e3*60*60*24);p+="expires="+M.toUTCString()+";"}else p+="expires="+n.expires.toUTCString()+";";n.path&&(p+="path="+n.path+";"),n.domain&&(p+="domain="+n.domain+";"),n.secure===!1&&n.sameSite==="None"&&(n.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),n.secure&&(p+="secure;"),n.sameSite||(n.sameSite="Lax"),p+="sameSite="+n.sameSite+";",n.partitioned&&(p+="Partitioned;"),this.document.cookie=p}delete(e,t,o,c,m="Lax"){if(!this.documentIsAccessible)return;let f=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(e,"",{expires:f,path:t,domain:o,secure:c,sameSite:m})}deleteAll(e,t,o,c="Lax"){if(!this.documentIsAccessible)return;let m=this.getAll();for(let f in m)m.hasOwnProperty(f)&&this.delete(f,e,t,o,c)}static{this.\u0275fac=function(t){return new(t||i)(l(q),l(B))}}static{this.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ee=(()=>{class i{constructor(e){this.service=e}get(e){return this.service.get(e)}put(e,t,o){this.service.set(e,t,o)}putE(e,t,o){this.service.set(e,t,o)}remove(e){this.service.delete(e)}removeAll(){this.service.deleteAll()}check(e){return this.service.check(e)}static{this.\u0275fac=function(t){return new(t||i)(l(Y))}}static{this.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var te=(()=>{class i{constructor(e,t,o){this.http=e,this.eCookieService=t,this.config=o}login(e){return this.http.post(`${this.config.BASE_URL}/auth/login`,e).pipe(N(t=>{this.setToken(t.access_token)}))}logout(){this.setToken(void 0)}isAuthenticated(){return!!this.getToken()}getToken(){return this.token||(this.token=this.eCookieService.get("access_token")),this.token}setToken(e){this.token=e,e?this.eCookieService.putE("access_token",e):this.eCookieService.remove("access_token")}static{this.\u0275fac=function(t){return new(t||i)(l(z),l(ee),l(W))}}static{this.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ie=[{id:1,label:"AI Assistant",icon:"COMMENT",route:"/chat-assistant"},{id:2,label:"Schools",icon:"CLASSES",route:"/schools"}];var re=(()=>{class i{constructor(e){this.router=e,this.menuItems=ie}getMenuItems(){return this.menuItems}navigateTo(e){this.router.navigate([e])}isActiveRoute(e){return e?this.router.isActive(e,{paths:"exact",queryParams:"ignored",fragment:"ignored",matrixParams:"ignored"}):!1}static{this.\u0275fac=function(t){return new(t||i)(l(_))}}static{this.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ne=(i,g)=>g.id;function le(i,g){if(i&1&&(r(0,"a",24),d(1,"i",25),k(2,"icon"),r(3,"span"),v(4),a()()),i&2){let e=g.$implicit,t=h(3);w("bg-blue-50",t.isActiveRoute(e.route))("dark:bg-dark-bg",t.isActiveRoute(e.route))("text-blue-600",t.isActiveRoute(e.route))("dark:text-accent-yellow",t.isActiveRoute(e.route)),E("routerLink",e.route),s(),x(b(2,12,e.icon)),s(3),G(e.label)}}function de(i,g){if(i&1){let e=H();r(0,"div",17),S("click",function(){P(e);let o=h().$implicit,c=h();return U(c.toggleExpand(o))}),r(1,"div",18)(2,"div",19),d(3,"i",20),k(4,"icon"),a(),r(5,"span",21),v(6),a()()(),r(7,"div",22),T(8,le,5,14,"a",23,ne),a()}if(i&2){let e=h().$implicit;s(3),x(b(4,5,e.icon)),s(3),D(" ",e.label," "),s(),w("dropdown-open",e.expanded),s(),L(e.children)}}function me(i,g){if(i&1&&(r(0,"a",16)(1,"div",18)(2,"div",19),d(3,"i",26),k(4,"icon"),a(),r(5,"span",27),v(6),a()()()),i&2){let e=h().$implicit,t=h();E("routerLink",e.route),s(3),x(b(4,30,e.icon)),w("text-blue-600",t.isActiveRoute(e.route))("dark:text-accent-yellow",t.isActiveRoute(e.route))("text-gray-600",!t.isActiveRoute(e.route))("dark:text-gray-300",!t.isActiveRoute(e.route))("scale-110",t.isActiveRoute(e.route)),s(2),w("max-w-0",!t.isActiveRoute(e.route))("max-w-[160px]",t.isActiveRoute(e.route))("group-hover:max-w-[160px]",!t.isActiveRoute(e.route))("text-blue-600",t.isActiveRoute(e.route))("dark:text-accent-yellow",t.isActiveRoute(e.route))("opacity-0",!t.isActiveRoute(e.route))("opacity-100",t.isActiveRoute(e.route))("group-hover:opacity-100",!t.isActiveRoute(e.route)),s(),D(" ",e.label," ")}}function pe(i,g){if(i&1&&(r(0,"div",9)(1,"div",15),V(2,de,10,7)(3,me,7,32,"a",16),a()()),i&2){let e=g.$implicit;s(2),O(e.children?2:3)}}var ae=(()=>{class i{constructor(){this.iconService=y(j),this.authService=y(te),this.navigationService=y(re),this.router=y(_),this.menuItems=this.navigationService.getMenuItems(),this.AppIcons=X,this.isDarkMode=!1}logout(){this.authService.logout(),this.router.navigate(["/login"])}isActiveRoute(e){return this.navigationService.isActiveRoute(e)}toggleExpand(e){e.expanded=!e.expanded}ngOnInit(){this.isDarkMode=document.documentElement.classList.contains("dark"),this.applyTheme()}toggleTheme(){this.isDarkMode=!this.isDarkMode,this.applyTheme()}applyTheme(){this.isDarkMode?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=I({type:i,selectors:[["app-navbar"]],decls:24,vars:8,consts:[[1,"bg-white","dark:bg-dark-surface","shadow-lg"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","h-20"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","justify-center"],["viewBox","0 0 24 24","fill","currentColor",1,"h-12","w-12","text-blue-600","dark:text-accent-yellow"],["d","M12,3L1,9L12,15L21,10.09V17H23V9M5,13.18V17.18L12,21L19,17.18V13.18L12,17L5,13.18Z"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","leading-none"],[1,"text-sm","text-gray-600","dark:text-gray-300"],[1,"relative","group"],[1,"flex","items-center","gap-2","px-4","py-2","rounded-lg","text-gray-700","dark:text-gray-200","bg-gray-100","dark:bg-dark-bg","hover:bg-gray-200","dark:hover:bg-dark-surface","hover:text-gray-600","dark:hover:text-white","transition",3,"click"],[1,"text-xl"],[1,"font-medium"],[1,"flex","items-center","gap-4"],["aria-label","Toggle theme",1,"p-2","rounded-lg","text-gray-700","dark:text-gray-200","hover:bg-gray-100","dark:hover:bg-dark-bg","transition",3,"click"],[1,"flex","flex-col"],[1,"flex","items-center","p-2","rounded-lg","transition","hover:bg-gray-50","dark:hover:bg-dark-bg",3,"routerLink"],[1,"flex","items-center","p-2","rounded-lg","cursor-pointer","transition","hover:bg-gray-50","dark:hover:bg-dark-bg",3,"click"],[1,"flex","items-center"],[1,"flex","items-center","min-w-[2.5rem]"],[1,"text-2xl","text-gray-600","dark:text-gray-300","transition-all","duration-500","ease-out","group-hover:text-blue-600","dark:group-hover:text-accent-yellow","group-hover:scale-110"],[1,"pl-1","text-gray-700","dark:text-gray-200","max-w-0","overflow-hidden","transition-all","duration-500","ease-out","group-hover:max-w-[160px]"],[1,"absolute","top-full","right-0","mt-2","w-48","bg-white","dark:bg-dark-surface","rounded-md","shadow-lg","transition-all","duration-200","origin-top-right","transform"],[1,"flex","items-center","px-4","py-2","text-gray-700","dark:text-gray-200","hover:bg-gray-100","dark:hover:bg-dark-bg",3,"routerLink","bg-blue-50","dark:bg-dark-bg","text-blue-600","dark:text-accent-yellow"],[1,"flex","items-center","px-4","py-2","text-gray-700","dark:text-gray-200","hover:bg-gray-100","dark:hover:bg-dark-bg",3,"routerLink"],[1,"mr-3"],[1,"text-2xl","transition-all","duration-500","ease-out"],[1,"pl-1","text-gray-700","dark:text-gray-200","overflow-hidden","transition-all","duration-500","ease-in-out","whitespace-nowrap"]],template:function(t,o){t&1&&(r(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),F(),r(5,"svg",5),d(6,"path",6),a()(),$(),r(7,"div")(8,"h2",7),v(9," School AI "),a(),r(10,"p",8),v(11," Intelligent School Management "),a()()(),r(12,"div",3),T(13,pe,4,1,"div",9,ne),r(15,"button",10),S("click",function(){return o.logout()}),d(16,"i",11),k(17,"icon"),r(18,"span",12),v(19,"Logout"),a()(),r(20,"div",13)(21,"button",14),S("click",function(){return o.toggleTheme()}),d(22,"i",11),k(23,"icon"),a()()()()()()),t&2&&(s(13),L(o.menuItems),s(3),x(b(17,4,"LOGOUT")),s(6),x(b(23,6,o.isDarkMode?"SUN":"MOON")))},dependencies:[A,Q,j],styles:[".dropdown-open[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:scale(1)}.dropdown-open[_ngcontent-%COMP%]{transition:all .2s ease-out}div[ng-reflect-ng-if=false][_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]:not(.dropdown-open){opacity:0;visibility:hidden;transform:scale(.95);transition:all .2s ease-out}"]})}}return i})();var ue=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=I({type:i,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"min-h-screen","flex","flex-col","decorative-pattern","dark:bg-dark-bg"],[1,"h-20","flex-shrink-0"],[1,"flex-1","min-h-0","overflow-hidden","p-6"],[1,"h-full","max-w-7xl","mx-auto","bg-white","dark:bg-dark-surface","rounded-xl","shadow-lg","dark:shadow-gray-900/30","overflow-auto","transition-colors","duration-200"],[1,"p-6","flex","flex-col","h-full","dark:text-gray-200"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div",1),d(2,"app-navbar"),a(),r(3,"div",2)(4,"main",3)(5,"div",4),d(6,"router-outlet"),a()()()())},dependencies:[J,A,K,ae],encapsulation:2})}}return i})(),Fe=ue;export{ue as HomeComponent,Fe as default};
